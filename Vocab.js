javascript:(function(){console.clear();console.log("ğŸ”¹ Script starting â€” fetching vocabulary databaseâ€¦");const e="https://raw.githubusercontent.com/Fluffy-Bunny-23/Suburani-Bookmarklets/refs/heads/main/vocabulary.json";let t=!1,n=!0,o="";const l=document.createElement("div");Object.assign(l.style,{position:"fixed",bottom:"10px",right:"10px",padding:"6px 12px",backgroundColor:"#c00",color:"#fff",borderRadius:"5px",cursor:"pointer",zIndex:9999,fontFamily:"Arial,sans-serif",fontSize:"14px",userSelect:"none"}),l.textContent="Auto Answer: OFF",l.onclick=()=>{t=!t,l.textContent=%60Auto Answer: ${t?"ON":"OFF"}%60,l.style.backgroundColor=t?"#080":"#c00",console.log(%60ğŸ”¹ Auto Answer ${t?"Enabled":"Disabled"}%60)},document.body.appendChild(l);const s=document.createElement("div");function i(e){s.textContent=e?%60Answer: ${e}%60:"",s.style.display=n&&e?"block":"none"}function c(){const e=document.querySelector("#flashpag");if(e&&"none"!==getComputedStyle(e).display){let t=e.querySelector("#flashlat");if(t&&t.textContent.trim())return t.textContent.trim()}const t=document.querySelector("#multi");if(t&&"none"!==getComputedStyle(t).display){let e=t.querySelector(".multiq");if(e&&e.textContent.trim())return e.textContent.trim()}const n=document.querySelector("#typein");if(n&&"none"!==getComputedStyle(n).display){let e=n.querySelector("#qtyp");if(e&&e.textContent.trim())return e.textContent.trim()}return null}function d(e){const n=document.querySelector("#typein");if(n&&"none"!==getComputedStyle(n).display){let n=document.querySelector("#typeans"),o=document.querySelector("#checkbtn");if(n&&o)return console.log(%60âŒ¨%EF%B8%8F Typing: "${e}"%60),n.value=e,n.dispatchEvent(new Event("input",{bubbles:!0})),void setTimeout(()=>{console.log("ğŸ–±%EF%B8%8F Submitting typed answer"),o.click()},100)}const l=Array.from(document.querySelectorAll("#multi .multib")).filter(e=>null!==e.offsetParent);if(l.length){for(let n of l){let o=n.textContent.replace(/^\d+\s*/,"").trim().toLowerCase();if(o===e.toLowerCase()||o.split(/\s*,\s*/).includes(e.toLowerCase()))return console.log(%60ğŸ–±%EF%B8%8F Clicking option: "${o}"%60),void n.click()}console.warn("âš %EF%B8%8F No matching visible option found.")}}Object.assign(s.style,{position:"fixed",bottom:"50px",right:"10px",padding:"5px 10px",backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",borderRadius:"5px",fontFamily:"Arial,sans-serif",fontSize:"13px",zIndex:9998,userSelect:"none",pointerEvents:"none"}),document.body.appendChild(s),document.addEventListener("keydown",e=>{"\\"===e.key&&(n=!n,l.style.display=n?"block":"none",s.style.display=n&&s.textContent?"block":"none",console.log(%60ğŸ”¹ UI ${n?"shown":"hidden"}%60))}),fetch(e).then(e=>e.json()).then(e=>{console.log("âœ… Vocabulary database loaded!"),setInterval(()=>{const n=c();if(!n)return void i("");if(n!==o){o=n,console.log(%60ğŸ“– New question: "${n}"%60);const l=e.find(e=>e.latin.split(",")[0].trim()===n.split(",")[0].trim());if(!l)return console.warn(%60âš %EF%B8%8F No DB match for "${n}"%60),void i("?");const s=l.english;console.log(%60âœ… Matched "${l.latin}" â†’ "${s}"%60),i(s),t&&d(s)}},1e3)}).catch(e=>console.error("âŒ Failed to load DB:",e))})();
